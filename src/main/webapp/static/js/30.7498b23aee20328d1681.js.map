{"version":3,"sources":["webpack:///static/js/30.7498b23aee20328d1681.js","webpack:///./src/components/SignUp.vue","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574*****************************","webpack:///./~/core-js/library/fn/json/stringify.js?6708*****************************","webpack:///SignUp.vue","webpack:///./src/components/SignUp.vue?297d","webpack:///./src/components/SignUp.vue?3c81","webpack:///./src/components/SignUp.vue?1503"],"names":["webpackJsonp","219","module","exports","__webpack_require__","injectStyle","ssrContext","Component","248","default","__esModule","249","core","$JSON","JSON","stringify","it","apply","arguments","269","_interopRequireDefault","obj","Object","defineProperty","value","_stringify","_stringify2","_extends2","_extends3","_axios","_axios2","_vuex","_config","data","_this","this","checkUsername","rule","callback","Error","test","checkUsernameUrl","backEndUrl","get","params","username","then","response","status","SUCCESS","msg","registerForm","password","checkPass","verificationCode","rules","validator","trigger","verificationCodeUrl","Date","methods","submitForm","formName","_this2","$refs","validate","valid","signUp","resetForm","resetFields","refreshImage","vCode","src","_this3","signUpUrl","self","post","user","headers","Content-Type","withCredentials","setSignInInfo","$router","push","$message","success","error","mapMutations","316","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","348","content","locals","382","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","model","label-width","label","prop","$$v","expression","type","auto-complete","on","click","$event","href","staticRenderFns"],"mappings":"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","file":"static/js/30.7498b23aee20328d1681.js","sourcesContent":["webpackJsonp([30],{\n\n/***/ 219:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(348)\n}\nvar Component = __webpack_require__(51)(\n  /* script */\n  __webpack_require__(269),\n  /* template */\n  __webpack_require__(382),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-732767d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(249), __esModule: true };\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(6)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _stringify = __webpack_require__(248);\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _extends2 = __webpack_require__(90);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _axios = __webpack_require__(23);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _cache = __webpack_require__(22);\n\nvar _vuex = __webpack_require__(54);\n\nvar _config = __webpack_require__(87);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexports.default = {\n  data: function data() {\n    var _this = this;\n\n    var checkUsername = function checkUsername(rule, value, callback) {\n      if (!value) {\n        return callback(new Error('用户名不能为空'));\n      } else if (!/^\\w{5,18}$/.test(value)) {\n        callback(new Error('用户名必须由5-18位数字、字母、下划线组成'));\n      } else {\n        var checkUsernameUrl = _config.backEndUrl + '/user/check_username.do';\n        _axios2.default.get(checkUsernameUrl, {\n          params: {\n            username: value\n          }\n        }).then(function (response) {\n          if (response.data.status !== _config.SUCCESS) {\n            // 用户名已存在\n            callback(new Error(response.data.msg));\n          } else {\n            callback();\n          }\n        });\n      }\n    };\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else if (!/^.{5,18}$/.test(value)) {\n        callback(new Error('密码长度必须为5-18位'));\n      } else {\n        callback();\n      }\n    };\n    var validatePass2 = function validatePass2(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== _this.registerForm.password) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    var validateVerificationCode = function validateVerificationCode(rule, value, callback) {\n      if (!value) {\n        return callback(new Error('请输入验证码'));\n      }\n      if (!/^\\w{4}$/.test(value)) {\n        callback(new Error('请输入4位字母或数字'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      registerForm: {\n        password: '',\n        checkPass: '',\n        username: '',\n        verificationCode: ''\n      },\n      rules: {\n        password: [{ validator: validatePass, trigger: 'blur' }],\n        checkPass: [{ validator: validatePass2, trigger: 'blur' }],\n        username: [{ validator: checkUsername, trigger: 'blur' }],\n        verificationCode: [{ validator: validateVerificationCode, trigger: 'blur' }]\n      },\n      verificationCodeUrl: _config.backEndUrl + '/util/v-code.do?' + +new Date()\n    };\n  },\n\n  methods: (0, _extends3.default)({\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          _this2.signUp();\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    refreshImage: function refreshImage() {\n      this.$refs.vCode.src = _config.backEndUrl + '/util/v-code.do?' + +new Date();\n    },\n    signUp: function signUp() {\n      var _this3 = this;\n\n      var signUpUrl = _config.backEndUrl + '/auth/sign_up.do';\n      var self = this;\n      _axios2.default.post(signUpUrl, (0, _stringify2.default)({\n        user: {\n          username: self.registerForm.username,\n          password: self.registerForm.password\n        },\n        vCode: self.registerForm.verificationCode\n      }), {\n        headers: {\n          'Content-Type': 'application/json;charset=UTF-8'\n        },\n        withCredentials: true\n      }).then(function (response) {\n        if (response.data.status === _config.SUCCESS) {\n          _this3.setSignInInfo({\n            username: self.registerForm.username,\n            password: self.registerForm.password\n          });\n          self.$router.push('/sign_in');\n          self.$message.success('注册成功');\n        } else {\n          self.$message.error(response.data.msg);\n        }\n      });\n    }\n  }, (0, _vuex.mapMutations)({\n    setSignInInfo: 'SET_SIGN_IN_INFO'\n  }))\n};\n\n/***/ }),\n\n/***/ 316:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(214)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".register-form[data-v-732767d9]{width:500px;margin:5% auto}.register-form img[data-v-732767d9]{float:right}.v-code img[data-v-732767d9]{cursor:pointer}.v-code a[data-v-732767d9]{font-size:12px;float:right;margin-right:10px}h1[data-v-732767d9],h2[data-v-732767d9]{font-weight:400;margin:40px}ul[data-v-732767d9]{list-style-type:none;padding:0}li[data-v-732767d9]{display:inline-block;margin:0 10px}a[data-v-732767d9]{color:#42b983}\", \"\", {\"version\":3,\"sources\":[\"D:/Documents/webstormworkspace/ManageSystem/src/components/SignUp.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,YAAa,AACb,cAAgB,CACjB,AACD,oCACE,WAAa,CACd,AACD,6BACE,cAAgB,CACjB,AACD,2BACE,eAAgB,AAChB,YAAa,AACb,iBAAmB,CACpB,AACD,wCACE,gBAAoB,AACpB,WAAa,CACd,AACD,oBACE,qBAAsB,AACtB,SAAW,CACZ,AACD,oBACE,qBAAsB,AACtB,aAAe,CAChB,AACD,mBACE,aAAe,CAChB\",\"file\":\"SignUp.vue\",\"sourcesContent\":[\"\\n.register-form[data-v-732767d9] {\\n  width: 500px;\\n  margin: 5% auto;\\n}\\n.register-form img[data-v-732767d9] {\\n  float: right;\\n}\\n.v-code img[data-v-732767d9] {\\n  cursor: pointer;\\n}\\n.v-code a[data-v-732767d9] {\\n  font-size: 12px;\\n  float: right;\\n  margin-right: 10px;\\n}\\nh1[data-v-732767d9], h2[data-v-732767d9] {\\n  font-weight: normal;\\n  margin: 40px;\\n}\\nul[data-v-732767d9] {\\n  list-style-type: none;\\n  padding: 0;\\n}\\nli[data-v-732767d9] {\\n  display: inline-block;\\n  margin: 0 10px;\\n}\\na[data-v-732767d9] {\\n  color: #42b983;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 348:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(316);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(215)(\"5dd40a06\", content, true);\n\n/***/ }),\n\n/***/ 382:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"register-form\"\n  }, [_c('h2', [_vm._v(\"注册\")]), _vm._v(\" \"), _c('el-form', {\n    ref: \"registerForm\",\n    attrs: {\n      \"model\": _vm.registerForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"username\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.registerForm.username),\n      callback: function($$v) {\n        _vm.registerForm.username = $$v\n      },\n      expression: \"registerForm.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"pass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.registerForm.password),\n      callback: function($$v) {\n        _vm.registerForm.password = $$v\n      },\n      expression: \"registerForm.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"确认密码\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.registerForm.checkPass),\n      callback: function($$v) {\n        _vm.registerForm.checkPass = $$v\n      },\n      expression: \"registerForm.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"prop\": \"verificationCode\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.registerForm.verificationCode),\n      callback: function($$v) {\n        _vm.registerForm.verificationCode = $$v\n      },\n      expression: \"registerForm.verificationCode\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"buttons\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('registerForm')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('registerForm')\n      }\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"v-code\"\n  }, [_c('img', {\n    ref: \"vCode\",\n    attrs: {\n      \"src\": _vm.verificationCodeUrl\n    },\n    on: {\n      \"click\": _vm.refreshImage\n    }\n  }), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0);\"\n    },\n    on: {\n      \"click\": _vm.refreshImage\n    }\n  }, [_vm._v(\"看不清，换一张\")])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/30.7498b23aee20328d1681.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-732767d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SignUp.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SignUp.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-732767d9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SignUp.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-732767d9\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SignUp.vue\n// module id = 219\n// module chunks = 30","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 248\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 249\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30","<template>\n  <div class=\"register-form\">\n    <h2>注册</h2>\n    <el-form :model=\"registerForm\" :rules=\"rules\" ref=\"registerForm\" label-width=\"100px\">\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input v-model=\"registerForm.username\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"pass\">\n        <el-input type=\"password\" v-model=\"registerForm.password\" auto-complete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码\" prop=\"checkPass\">\n        <el-input type=\"password\" v-model=\"registerForm.checkPass\" auto-complete=\"off\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"验证码\" prop=\"verificationCode\">\n        <el-input v-model=\"registerForm.verificationCode\"></el-input>\n      </el-form-item>\n      <el-form-item class=\"buttons\">\n        <el-button type=\"primary\" @click=\"submitForm('registerForm')\">提交</el-button>\n        <el-button @click=\"resetForm('registerForm')\">重置</el-button>\n        <span class=\"v-code\">\n            <img :src=\"verificationCodeUrl\" ref=\"vCode\" @click=\"refreshImage\"/>\n            <a href=\"javascript:void(0);\" @click=\"refreshImage\">看不清，换一张</a>\n          </span>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\n  import axios from 'axios'\n  import {setToken} from '@/common/cache'\n  import {mapMutations} from 'vuex'\n  import {backEndUrl, SUCCESS} from '@/common/config'\n\n  export default {\n    data() {\n      let checkUsername = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('用户名不能为空'));\n        } else if (!/^\\w{5,18}$/.test(value)) {\n          callback(new Error('用户名必须由5-18位数字、字母、下划线组成'));\n        } else {\n          let checkUsernameUrl = `${backEndUrl}/user/check_username.do`\n          axios.get(checkUsernameUrl, {\n            params: {\n              username: value\n            }\n          }).then((response) => {\n            if (response.data.status !== SUCCESS) {\n              // 用户名已存在\n              callback(new Error(response.data.msg))\n            } else {\n              callback();\n            }\n          })\n        }\n      }\n      let validatePass = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else if (!/^.{5,18}$/.test(value)) {\n          callback(new Error('密码长度必须为5-18位'));\n        } else {\n          callback();\n        }\n      }\n      let validatePass2 = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请再次输入密码'));\n        } else if (value !== this.registerForm.password) {\n          callback(new Error('两次输入密码不一致!'));\n        } else {\n          callback();\n        }\n      }\n      let validateVerificationCode = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('请输入验证码'))\n        }\n        if (!/^\\w{4}$/.test(value)) {\n          callback(new Error('请输入4位字母或数字'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        registerForm: {\n          password: '',\n          checkPass: '',\n          username: '',\n          verificationCode: ''\n        },\n        rules: {\n          password: [\n            {validator: validatePass, trigger: 'blur'}\n          ],\n          checkPass: [\n            {validator: validatePass2, trigger: 'blur'}\n          ],\n          username: [\n            {validator: checkUsername, trigger: 'blur'}\n          ],\n          verificationCode: [\n            {validator: validateVerificationCode, trigger: 'blur'}\n          ],\n        },\n        verificationCodeUrl: `${backEndUrl}/util/v-code.do?${+new Date()}`\n      }\n    },\n    methods: {\n      submitForm(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.signUp()\n          } else {\n            return false;\n          }\n        })\n      },\n      resetForm(formName) {\n        this.$refs[formName].resetFields();\n      },\n      refreshImage() {\n        this.$refs.vCode.src = `${backEndUrl}/util/v-code.do?${+new Date()}`\n      },\n      signUp() {\n        let signUpUrl = `${backEndUrl}/auth/sign_up.do`\n        let self = this\n        axios.post(signUpUrl, JSON.stringify({\n          user: {\n            username: self.registerForm.username,\n            password: self.registerForm.password\n          },\n          vCode: self.registerForm.verificationCode\n        }), {\n          headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n          },\n          withCredentials: true\n        }).then((response) => {\n          if (response.data.status === SUCCESS) {\n            this.setSignInInfo({\n              username: self.registerForm.username,\n              password: self.registerForm.password\n            })\n            self.$router.push('/sign_in')\n            self.$message.success('注册成功')\n          } else {\n            self.$message.error(response.data.msg)\n          }\n        })\n\n      },\n      ...mapMutations({\n        setSignInInfo: 'SET_SIGN_IN_INFO'\n      })\n    }\n  }\n</script>\n\n<style scoped>\n  .register-form {\n    width: 500px;\n    margin: 5% auto;\n  }\n\n  .register-form img {\n    float: right;\n  }\n\n  .v-code img {\n    cursor: pointer;\n  }\n\n  .v-code a {\n    font-size: 12px;\n    float: right;\n    margin-right: 10px;\n  }\n\n  h1, h2 {\n    font-weight: normal;\n    margin: 40px;\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: inline-block;\n    margin: 0 10px;\n  }\n\n  a {\n    color: #42b983;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// SignUp.vue?093c5e0f","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".register-form[data-v-732767d9]{width:500px;margin:5% auto}.register-form img[data-v-732767d9]{float:right}.v-code img[data-v-732767d9]{cursor:pointer}.v-code a[data-v-732767d9]{font-size:12px;float:right;margin-right:10px}h1[data-v-732767d9],h2[data-v-732767d9]{font-weight:400;margin:40px}ul[data-v-732767d9]{list-style-type:none;padding:0}li[data-v-732767d9]{display:inline-block;margin:0 10px}a[data-v-732767d9]{color:#42b983}\", \"\", {\"version\":3,\"sources\":[\"D:/Documents/webstormworkspace/ManageSystem/src/components/SignUp.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,YAAa,AACb,cAAgB,CACjB,AACD,oCACE,WAAa,CACd,AACD,6BACE,cAAgB,CACjB,AACD,2BACE,eAAgB,AAChB,YAAa,AACb,iBAAmB,CACpB,AACD,wCACE,gBAAoB,AACpB,WAAa,CACd,AACD,oBACE,qBAAsB,AACtB,SAAW,CACZ,AACD,oBACE,qBAAsB,AACtB,aAAe,CAChB,AACD,mBACE,aAAe,CAChB\",\"file\":\"SignUp.vue\",\"sourcesContent\":[\"\\n.register-form[data-v-732767d9] {\\n  width: 500px;\\n  margin: 5% auto;\\n}\\n.register-form img[data-v-732767d9] {\\n  float: right;\\n}\\n.v-code img[data-v-732767d9] {\\n  cursor: pointer;\\n}\\n.v-code a[data-v-732767d9] {\\n  font-size: 12px;\\n  float: right;\\n  margin-right: 10px;\\n}\\nh1[data-v-732767d9], h2[data-v-732767d9] {\\n  font-weight: normal;\\n  margin: 40px;\\n}\\nul[data-v-732767d9] {\\n  list-style-type: none;\\n  padding: 0;\\n}\\nli[data-v-732767d9] {\\n  display: inline-block;\\n  margin: 0 10px;\\n}\\na[data-v-732767d9] {\\n  color: #42b983;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-732767d9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/SignUp.vue\n// module id = 316\n// module chunks = 30","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-732767d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./SignUp.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5dd40a06\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-732767d9\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/SignUp.vue\n// module id = 348\n// module chunks = 30","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"register-form\"\n  }, [_c('h2', [_vm._v(\"注册\")]), _vm._v(\" \"), _c('el-form', {\n    ref: \"registerForm\",\n    attrs: {\n      \"model\": _vm.registerForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\",\n      \"prop\": \"username\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.registerForm.username),\n      callback: function($$v) {\n        _vm.registerForm.username = $$v\n      },\n      expression: \"registerForm.username\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\",\n      \"prop\": \"pass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.registerForm.password),\n      callback: function($$v) {\n        _vm.registerForm.password = $$v\n      },\n      expression: \"registerForm.password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"确认密码\",\n      \"prop\": \"checkPass\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"password\",\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.registerForm.checkPass),\n      callback: function($$v) {\n        _vm.registerForm.checkPass = $$v\n      },\n      expression: \"registerForm.checkPass\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"prop\": \"verificationCode\"\n    }\n  }, [_c('el-input', {\n    model: {\n      value: (_vm.registerForm.verificationCode),\n      callback: function($$v) {\n        _vm.registerForm.verificationCode = $$v\n      },\n      expression: \"registerForm.verificationCode\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    staticClass: \"buttons\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('registerForm')\n      }\n    }\n  }, [_vm._v(\"提交\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('registerForm')\n      }\n    }\n  }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"v-code\"\n  }, [_c('img', {\n    ref: \"vCode\",\n    attrs: {\n      \"src\": _vm.verificationCodeUrl\n    },\n    on: {\n      \"click\": _vm.refreshImage\n    }\n  }), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"javascript:void(0);\"\n    },\n    on: {\n      \"click\": _vm.refreshImage\n    }\n  }, [_vm._v(\"看不清，换一张\")])])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-732767d9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SignUp.vue\n// module id = 382\n// module chunks = 30"],"sourceRoot":""}