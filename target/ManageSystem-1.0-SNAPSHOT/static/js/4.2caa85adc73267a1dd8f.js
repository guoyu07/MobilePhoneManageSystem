webpackJsonp([4],{243:function(t,e,a){function n(t){a(359)}var o=a(51)(a(294),a(394),n,"data-v-95199e6a",null);t.exports=o.exports},249:function(t,e,a){t.exports={default:a(250),__esModule:!0}},250:function(t,e,a){var n=a(6),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},256:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ElButton",props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean},methods:{handleClick:function(t){this.$emit("click",t)},handleInnerClick:function(t){this.disabled&&t.stopPropagation()}}}},257:function(t,e,a){t.exports={default:a(258),__esModule:!0}},258:function(t,e,a){a(53),a(52),t.exports=a(259)},259:function(t,e,a){var n=a(10),o=a(89);t.exports=a(6).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},260:function(t,e,a){var n=a(51)(a(256),a(261),null,null,null);t.exports=n.exports},261:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"el-button",class:[t.type?"el-button--"+t.type:"",t.size?"el-button--"+t.size:"",{"is-disabled":t.disabled,"is-loading":t.loading,"is-plain":t.plain}],attrs:{disabled:t.disabled,autofocus:t.autofocus,type:t.nativeType},on:{click:t.handleClick}},[t.loading?a("i",{staticClass:"el-icon-loading",on:{click:t.handleInnerClick}}):t._e(),t._v(" "),t.icon&&!t.loading?a("i",{class:"el-icon-"+t.icon,on:{click:t.handleInnerClick}}):t._e(),t._v(" "),t.$slots.default?a("span",{on:{click:t.handleInnerClick}},[t._t("default")],2):t._e()])},staticRenderFns:[]}},294:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(257),r=n(o),l=a(249),i=n(l),s=a(23),m=n(s),u=a(87),c=a(260),f=n(c);e.default={components:{ElButton:f.default},data:function(){return{form:{name:"",path:"",remark:"",actions:[],roles:[],actionForm:{name:"",url:"",remark:""}},menu:{},allRoles:[],actionRule:{name:[{validator:function(t,e,a){e?a():a(new Error("请输入名称"))},trigger:"blur"}],url:[{validator:function(t,e,a){e?/^(\/[\w]+)+\.do$/.test(e)?a():a(new Error("格式为/xxx/yyy_zzz.do")):a(new Error("请输入Url"))},trigger:"blur"}]}}},methods:{test:function(){console.log(this.form),console.log(/^(\/[\w]+)+\.do$/.test("/menu/update_menu.do"))},addAction:function(){if(!this.form.actionForm.url||!this.form.actionForm.name)return!1;var t=JSON.parse((0,i.default)(this.form.actionForm));if(this.isAdded(t.url))return!1;this.form.actions.push(t),this.form.actionForm.url="",this.form.actionForm.name="",this.form.actionForm.remark=""},removeAction:function(t){this.form.actions=this.form.actions.filter(function(e){return e.url!==t.url})},isAdded:function(t){var e=!0,a=!1,n=void 0;try{for(var o,l=(0,r.default)(this.form.actions);!(e=(o=l.next()).done);e=!0){if(o.value.url===t)return!0}}catch(t){a=!0,n=t}finally{try{!e&&l.return&&l.return()}finally{if(a)throw n}}return!1},onSubmit:function(){var t=this,e=u.backEndUrl+"/menu/update_menu.do";m.default.post(e,(0,i.default)({id:t.$route.params.id,name:t.form.name,path:t.form.path,remark:t.form.remark,roles:t.form.roles,actions:t.form.actions}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){e.data.status===u.SUCCESS?(t.$router.back(),t.$message.success("修改成功")):t.$message.error(e.data.msg)})},onCancel:function(){this.$router.back()},isSuperAdmin:function(t){return"超级管理员"===t.name}},mounted:function(){var t=this,e=u.backEndUrl+"/menu/get_menu.do",a=u.backEndUrl+"/role/get_roles.do";m.default.get(e,{params:{id:t.$route.params.id}}).then(function(e){e.data.status===u.SUCCESS?(t.menu=e.data.data,t.form.name=t.menu.name,t.form.path=t.menu.path,t.form.remark=t.menu.remark,t.form.roles=t.menu.roles,t.form.actions=t.menu.actions):t.$message.error(e.data.msg)}),m.default.get(a,{}).then(function(e){e.data.status===u.SUCCESS?t.allRoles=e.data.data:t.$message.error(e.data.msg)})}}},326:function(t,e,a){e=t.exports=a(214)(!0),e.push([t.i,".menu-detail[data-v-95199e6a]{width:100%;height:100%;margin:0;padding:0;top:0;z-index:2;background-color:#f0f8ff;position:absolute}.form[data-v-95199e6a]{margin:100px;width:50%}.inline-table .form-item[data-v-95199e6a]{float:left;padding:20px 0 0}.inline-table .table-in-form[data-v-95199e6a]{float:left;margin-top:20px}.inline-table button[data-v-95199e6a]{float:left;margin:10px}.inline-table .el-table[data-v-95199e6a]{margin-top:20px}h1[data-v-95199e6a],h2[data-v-95199e6a],h3[data-v-95199e6a]{font-weight:400;margin:40px}","",{version:3,sources:["D:/Documents/webstormworkspace/ManageSystem/src/components/system_manage/MenuDetail.vue"],names:[],mappings:"AACA,8BACE,WAAY,AACZ,YAAa,AACb,SAAU,AACV,UAAW,AACX,MAAO,AACP,UAAW,AACX,yBAA4B,AAC5B,iBAAmB,CACpB,AACD,uBACE,aAAc,AACd,SAAW,CACZ,AACD,0CACE,WAAY,AACZ,gBAAoB,CACrB,AACD,8CACE,WAAY,AACZ,eAAiB,CAClB,AACD,sCACE,WAAY,AACZ,WAAa,CACd,AACD,yCACE,eAAiB,CAClB,AACD,4DACE,gBAAoB,AACpB,WAAa,CACd",file:"MenuDetail.vue",sourcesContent:["\n.menu-detail[data-v-95199e6a] {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  top: 0;\n  z-index: 2;\n  background-color: aliceblue;\n  position: absolute;\n}\n.form[data-v-95199e6a] {\n  margin: 100px;\n  width: 50%;\n}\n.inline-table .form-item[data-v-95199e6a] {\n  float: left;\n  padding: 20px 0 0 0;\n}\n.inline-table .table-in-form[data-v-95199e6a] {\n  float: left;\n  margin-top: 20px;\n}\n.inline-table button[data-v-95199e6a] {\n  float: left;\n  margin: 10px;\n}\n.inline-table .el-table[data-v-95199e6a] {\n  margin-top: 20px;\n}\nh1[data-v-95199e6a], h2[data-v-95199e6a], h3[data-v-95199e6a] {\n  font-weight: normal;\n  margin: 40px;\n}\n"],sourceRoot:""}])},359:function(t,e,a){var n=a(326);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(215)("69dcd1f8",n,!0)},394:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-detail"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,"label-width":"80px"}},[a("h3",[t._v("修改菜单项")]),t._v(" "),a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{model:{value:t.form.name,callback:function(e){t.form.name=e},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"菜单路径"}},[a("el-input",{model:{value:t.form.path,callback:function(e){t.form.path=e},expression:"form.path"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"说明"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.remark,callback:function(e){t.form.remark=e},expression:"form.remark"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"授权"}},[a("el-select",{attrs:{multiple:"","value-key":"id",placeholder:"请选择角色"},model:{value:t.form.roles,callback:function(e){t.form.roles=e},expression:"form.roles"}},t._l(t.allRoles,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"动作设置"}},[a("div",{staticClass:"inline-table"},[a("el-form",{attrs:{inline:!0,rules:t.actionRule,model:t.form.actionForm}},[a("el-form-item",{staticClass:"form-item",attrs:{label:"动作名",prop:"name"}},[a("el-input",{attrs:{placeholder:"动作名"},model:{value:t.form.actionForm.name,callback:function(e){t.form.actionForm.name=e},expression:"form.actionForm.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"Url",prop:"url"}},[a("el-input",{attrs:{placeholder:"/xxx/yyy_zzz.do"},model:{value:t.form.actionForm.url,callback:function(e){t.form.actionForm.url=e},expression:"form.actionForm.url"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"备注"},model:{value:t.form.actionForm.remark,callback:function(e){t.form.actionForm.remark=e},expression:"form.actionForm.remark"}})],1),t._v(" "),a("el-form-item",{staticClass:"form-item"},[a("el-button",{on:{click:t.addAction}},[t._v("添加")])],1)],1),t._v(" "),a("el-table",{staticClass:"table-in-form",attrs:{data:t.form.actions}},[a("el-table-column",{attrs:{prop:"name",label:"动作名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url",width:"200",label:"Url"}}),t._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{plain:!0,type:"danger",icon:"delete",size:"small"},on:{click:function(a){t.removeAction(e.row)}}})]}}])})],1)],1)]),t._v(" "),a("el-form-item",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=4.2caa85adc73267a1dd8f.js.map