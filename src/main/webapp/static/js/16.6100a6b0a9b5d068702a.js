webpackJsonp([16],{244:function(e,t,n){function a(e){n(365)}var r=n(51)(n(295),n(400),a,"data-v-f039e842",null);e.exports=r.exports},249:function(e,t,n){e.exports={default:n(250),__esModule:!0}},250:function(e,t,n){var a=n(6),r=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},257:function(e,t,n){e.exports={default:n(258),__esModule:!0}},258:function(e,t,n){n(53),n(52),e.exports=n(259)},259:function(e,t,n){var a=n(10),r=n(89);e.exports=n(6).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return a(t.call(e))}},295:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(249),s=a(r),o=n(257),i=a(o),u=n(23),l=a(u),d=n(87);t.default={data:function(){return{rawMenus:[],loading:!0}},computed:{menus:function(){var e=[],t=!0,n=!1,a=void 0;try{for(var r,s=(0,i.default)(this.rawMenus);!(t=(r=s.next()).done);t=!0){var o=r.value;if(e.push(o),"PARENT"===o.type)for(var u in o.children){var l=o.children[u];"├"!==l.name[0]&&"└"!==l.name[0]&&(u<o.children.length-1?l.name="├─ "+l.name:l.name="└─ "+l.name),e.push(l)}}}catch(e){n=!0,a=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw a}}return e}},watch:{$route:"getMenus"},methods:{getMenus:function(){this.loading=!0;var e=this,t=d.backEndUrl+"/menu/get_menus.do";l.default.get(t,{params:{}}).then(function(t){t.data.status===d.SUCCESS?(e.rawMenus=t.data.data,e.loading=!1):e.$message.error(t.data.msg)})},addTop:function(){var e=this,t=d.backEndUrl+"/menu/add_menu.do",n=1,a=!0,r=!1,o=void 0;try{for(var u,c=(0,i.default)(this.rawMenus);!(a=(u=c.next()).done);a=!0){var f=u.value;f.sortOrder>=n&&(n=f.sortOrder+1)}}catch(e){r=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw o}}l.default.post(t,(0,s.default)({name:"新建菜单项",sortOrder:n}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){t.data.status===d.SUCCESS?e.getMenus():e.$message.error(t.data.msg)})},isLeaf:function(e){return"NODE"===this.menus[e].type},up:function(e){var t=this,n=d.backEndUrl+"/menu/up.do";l.default.get(n,{params:{id:e.id}}).then(function(e){e.data.status===d.SUCCESS?t.getMenus():t.$message.error(e.data.msg)})},down:function(e){var t=this,n=d.backEndUrl+"/menu/down.do";l.default.get(n,{params:{id:e.id}}).then(function(e){e.data.status===d.SUCCESS?t.getMenus():t.$message.error(e.data.msg)})},addChild:function(e){var t=this,n=d.backEndUrl+"/menu/add_menu.do",a=1,r=!0,o=!1,u=void 0;try{for(var c,f=(0,i.default)(e.children);!(r=(c=f.next()).done);r=!0){var p=c.value;p.sortOrder>=a&&(a=p.sortOrder+1)}}catch(e){o=!0,u=e}finally{try{!r&&f.return&&f.return()}finally{if(o)throw u}}l.default.post(n,(0,s.default)({parentId:e.id,name:"新建菜单项",sortOrder:a}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){e.data.status===d.SUCCESS?t.getMenus():t.$message.error(e.data.msg)})},deleteMenu:function(e){var t=this,n=d.backEndUrl+"/menu/delete_menu.do";this.$confirm("此操作将永久删除该菜单及其所有子菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(function(){l.default.get(n,{params:{id:e.id}}).then(function(e){e.data.status===d.SUCCESS?(t.getMenus(),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:e.data.msg})})}).catch(function(){})},editMenu:function(e){this.$router.push("/menu_manage/"+e.id)}},mounted:function(){this.getMenus()}}},332:function(e,t,n){t=e.exports=n(214)(!0),t.push([e.i,".add[data-v-f039e842]{float:left;margin:10px 40px 10px 10px}h1[data-v-f039e842],h2[data-v-f039e842],h3[data-v-f039e842]{margin:30px}","",{version:3,sources:["D:/Documents/webstormworkspace/ManageSystem/src/components/system_manage/MenuManage.vue"],names:[],mappings:"AAGA,sBACE,WAAY,AACZ,0BAA4B,CAC7B,AACD,4DACE,WAAa,CACd",file:"MenuManage.vue",sourcesContent:["\n.menu-manage[data-v-f039e842] {\n}\n.add[data-v-f039e842] {\n  float: left;\n  margin: 10px 40px 10px 10px;\n}\nh1[data-v-f039e842], h2[data-v-f039e842], h3[data-v-f039e842] {\n  margin: 30px;\n}\n"],sourceRoot:""}])},365:function(e,t,n){var a=n(332);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(215)("6b5e8cec",a,!0)},400:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"menu-manage"},[n("h2",[e._v("菜单管理")]),e._v(" "),n("el-button",{staticClass:"add",attrs:{size:"small"},on:{click:e.addTop}},[n("i",{staticClass:"el-icon-plus"}),e._v(" 添加顶级菜单")]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.menus,align:"left"}},[n("el-table-column",{staticClass:"column",attrs:{prop:"name",label:"菜单名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"path",label:"菜单路径"}}),e._v(" "),n("el-table-column",{attrs:{prop:"roles",label:"权限"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t){return n("span",[e._v(e._s(t.name)+", ")])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"remark",label:"说明"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.up(t.row)}}},[n("i",{staticClass:"el-icon-arrow-up"})]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.down(t.row)}}},[n("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),n("el-button",{attrs:{plain:!0,type:"info",icon:"edit",size:"small"},on:{click:function(n){e.editMenu(t.row)}}}),e._v(" "),n("el-button",{attrs:{plain:!0,type:"danger",icon:"delete",size:"small"},on:{click:function(n){e.deleteMenu(t.row)}}}),e._v(" "),e.isLeaf(t.$index)?e._e():n("el-button",{attrs:{plain:!0,type:"success",size:"small"},on:{click:function(n){e.addChild(t.row)}}},[n("i",{staticClass:"el-icon-plus"})])]}}])})],1)],1),e._v(" "),n("router-view")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=16.6100a6b0a9b5d068702a.js.map