webpackJsonp([17],{235:function(e,t,a){function r(e){a(360)}var l=a(51)(a(285),a(394),r,"data-v-e2860374",null);e.exports=l.exports},248:function(e,t,a){e.exports={default:a(249),__esModule:!0}},249:function(e,t,a){var r=a(6),l=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}},250:function(e,t,a){"use strict";function r(e,t){var a=void 0;return function(){for(var r=this,l=arguments.length,n=Array(l),i=0;i<l;i++)n[i]=arguments[i];a&&clearTimeout(a),a=setTimeout(function(){e.apply(r,n)},t)}}function l(e,t){t=t>0&&t<=20?t:2,e=parseFloat((e+"").replace(/[^\d.-]/g,"")).toFixed(t)+"";for(var a=e.split(".")[0].split("").reverse(),r=e.split(".")[1],l="",n=0;n<a.length;n++)l+=a[n]+((n+1)%3==0&&n+1!==a.length?",":"");return l.split("").reverse().join("")+"."+r}function n(){var e=(0,i.getToken)();if(!e)return!1;var t=o.TokenUtil.parseUuid(e);return"-"===t.charAt(t.length-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=r,t.formatMoney=l,t.isSuperAdmin=n;var i=a(22),o=a(22)},285:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(248),n=r(l),i=a(23),o=r(i),s=a(87);a(250);t.default={data:function(){return{addForm:{id:"",name:"",remark:""},supplierTypes:[],deletedSupplierTypes:[],addFormVisible:!1,loading:!0,loadingDeleted:!0,showDeleted:!1,addRule:{id:[{validator:function(e,t,a){if(t)if(/^[0-9A-Z-]{1,15}$/.test(t)){var r=s.backEndUrl+"/supplier_type/check_supplier_type.do";o.default.get(r,{params:{id:t}}).then(function(e){e.data.status!==s.SUCCESS?a(new Error(e.data.msg)):a()})}else a(new Error("编号必须由1-15位数字、大写字母、减号组成"));else a(new Error("请输入编号"))},trigger:"blur"}],name:[{validator:function(e,t,a){t?a():a(new Error("请输入名称"))},trigger:"blur"}]}}},computed:{},watch:{$route:"getSupplierTypes"},methods:{getSupplierTypes:function(e){e%1!=0&&(e=null),this.loading=!0;var t=this,a=s.backEndUrl+"/supplier_type/get_supplier_types.do";o.default.post(a,{},{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){e.data.status===s.SUCCESS?(t.supplierTypes=e.data.data,t.loading=!1):t.$message.error(e.data.msg)})},addSupplierType:function(){this.addFormVisible=!0},onAddSubmit:function(){var e=this,t=s.backEndUrl+"/supplier_type/add_supplier_type.do";o.default.post(t,(0,n.default)({id:e.addForm.id,name:e.addForm.name,remark:e.addForm.remark}),{headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(t){t.data.status===s.SUCCESS?(e.$message.success("添加成功"),e.getSupplierTypes(),e.addFormVisible=!1):e.$message.error(t.data.msg)})},deleteSupplierType:function(e){var t=this,a=s.backEndUrl+"/supplier_type/delete_supplier_type.do";this.$confirm("此操作将删除供应商类型, 是否继续？（可操作数据库进行恢复）","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(function(){o.default.get(a,{params:{id:e.id}}).then(function(e){e.data.status===s.SUCCESS?(t.getSupplierTypes(),t.$message({type:"success",message:"删除成功!"})):t.$message({type:"error",message:e.data.msg})})}).catch(function(){})},editSupplierType:function(e){this.$router.push("/supplier_type/"+e.id)},recoverSupplierType:function(e){var t=this,a=s.backEndUrl+"/supplier_type/recover_supplier_type.do";o.default.get(a,{params:{id:e.id}}).then(function(e){e.data.status===s.SUCCESS&&(t.getSupplierTypes(),t.getDeletedSupplierTypes(),t.$message.success("恢复成功"))})},getDeletedSupplierTypes:function(){this.showDeleted=!0,this.loadingDeleted=!0;var e=this,t=s.backEndUrl+"/supplier_type/get_deleted_supplier_types.do";o.default.get(t,{params:{}}).then(function(t){t.data.status===s.SUCCESS&&(e.deletedSupplierTypes=t.data.data,e.loadingDeleted=!1)})},hideRecover:function(){this.showDeleted=!1,this.loadingDeleted=!1}},mounted:function(){this.getSupplierTypes()}}},328:function(e,t,a){t=e.exports=a(214)(!0),t.push([e.i,".form2[data-v-e2860374]{margin:100px 0}.el-table .deleted-row[data-v-e2860374]{background-color:rgba(255,73,73,.56)}.recover[data-v-e2860374]{float:right;margin:10px 40px 10px 0}.add[data-v-e2860374]{float:left;margin:10px 40px 10px 10px}h1[data-v-e2860374],h2[data-v-e2860374],h3[data-v-e2860374]{margin:30px}","",{version:3,sources:["D:/Documents/webstormworkspace/ManageSystem/src/components/base_config/SupplierType.vue"],names:[],mappings:"AAGA,wBACE,cAAgB,CACjB,AACD,wCACE,oCAA0C,CAC3C,AACD,0BACE,YAAa,AACb,uBAAyB,CAC1B,AACD,sBACE,WAAY,AACZ,0BAA4B,CAC7B,AACD,4DACE,WAAa,CACd",file:"SupplierType.vue",sourcesContent:["\n.supplier-type-manage[data-v-e2860374] {\n}\n.form2[data-v-e2860374] {\n  margin: 100px 0;\n}\n.el-table .deleted-row[data-v-e2860374] {\n  background-color: rgba(255, 73, 73, 0.56);\n}\n.recover[data-v-e2860374] {\n  float: right;\n  margin: 10px 40px 10px 0;\n}\n.add[data-v-e2860374] {\n  float: left;\n  margin: 10px 40px 10px 10px;\n}\nh1[data-v-e2860374], h2[data-v-e2860374], h3[data-v-e2860374] {\n  margin: 30px;\n}\n"],sourceRoot:""}])},360:function(e,t,a){var r=a(328);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(215)("08b71a1c",r,!0)},394:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"supplier-type-manage"},[a("h2",[e._v("供应商类型管理")]),e._v(" "),a("el-button",{staticClass:"add",attrs:{size:"small"},on:{click:e.addSupplierType}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 添加新类型")]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:e.supplierTypes,align:"left","default-sort":{prop:"id",order:"ascending"}}},[a("el-table-column",{staticClass:"column",attrs:{prop:"id",sortable:"",label:"供应商类型编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{plain:!0,type:"info",icon:"edit",size:"small"},on:{click:function(a){e.editSupplierType(t.row)}}}),e._v(" "),a("el-button",{attrs:{plain:!0,type:"danger",icon:"delete",size:"small"},on:{click:function(a){e.deleteSupplierType(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"recover"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.showDeleted,expression:"!showDeleted"}],attrs:{plain:!0,type:"info"},on:{click:e.getDeletedSupplierTypes}},[e._v("显示已删除供应商类型\n      ")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showDeleted,expression:"showDeleted"}],attrs:{plain:!0,type:"info"},on:{click:e.hideRecover}},[e._v("隐藏已删除供应商类型")])],1),e._v(" "),e.showDeleted?a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.loadingDeleted,expression:"loadingDeleted",modifiers:{body:!0}}],staticClass:"form2",staticStyle:{width:"100%"},attrs:{data:e.deletedSupplierTypes,"row-class-name":"deleted-row",align:"left","default-sort":{prop:"id",order:"ascending"}}},[a("el-table-column",{staticClass:"column",attrs:{prop:"id",sortable:"",label:"供应商类型编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.recoverSupplierType(t.row)}}},[e._v("恢复\n          ")])]}}])})],1):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"新建供应商类型",visible:e.addFormVisible},on:{"update:visible":function(t){e.addFormVisible=t}}},[a("el-form",{attrs:{model:e.addForm,rules:e.addRule,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"供应商类型编号",prop:"id"}},[a("el-input",{model:{value:e.addForm.id,callback:function(t){e.addForm.id=t},expression:"addForm.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.addForm.name,callback:function(t){e.addForm.name=t},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.remark,callback:function(t){e.addForm.remark=t},expression:"addForm.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onAddSubmit}},[e._v("确 定")])],1)],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=17.c92020d4aa4624adc857.js.map